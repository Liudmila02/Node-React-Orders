{"ast":null,"code":"var _jsxFileName = \"/home/lyuda/Desktop/orders/client/src/components/edit-client.js\";\nimport React from \"react\";\nimport { request } from '../utils/axios';\nimport { withRouter } from \"react-router\";\n\nclass OrderEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      client: '',\n      project: '',\n      department: '',\n      estimate: '',\n      budget: '',\n      start_date: ''\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getOrderDetails();\n  }\n\n  getOrderDetails() {\n    let id = this.props.match.params.id;\n    request.get(`/client/${id}`).then(response => {\n      this.setState({\n        id: response.data.order.id,\n        client: response.data.order.client,\n        project: response.data.order.project,\n        department: response.data.order.department,\n        estimate: response.data.order.estimate,\n        budget: response.data.order.budget,\n        start_date: response.data.order.start_date.split('T')[0]\n      }, () => {});\n    }).catch(err => {\n      console.log(err);\n\n      if (err.response.status === 401) {\n        this.props.history.push('/');\n      }\n    });\n  }\n\n  editOrder(newOrder) {\n    request({\n      method: 'put',\n      url: `/client/${this.props.match.params.id}`,\n      data: newOrder\n    }).then(response => {\n      this.props.history.push('/orders');\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const newOrder = {\n      client: this.refs.client.value,\n      project: this.refs.project.value,\n      department: this.refs.department.value,\n      estimate: this.refs.estimate.value,\n      budget: this.refs.budget.value,\n      start_date: this.refs.start_date.value\n    };\n    this.editOrder(newOrder);\n  }\n\n  handleInputChange(e) {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.client,\n      required: true,\n      type: \"text\",\n      name: \"client\",\n      ref: \"client\",\n      className: \"input-client\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.project,\n      required: true,\n      type: \"text\",\n      name: \"project\",\n      ref: \"project\",\n      className: \"input-project\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.department,\n      ref: \"department\",\n      value: this.state.value,\n      className: \"input-department\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, \"Department\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Milestep\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"Milestep\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"LibidoSoft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, \"LibidoSoft\")), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.estimate,\n      required: true,\n      type: \"text\",\n      name: \"estimate\",\n      ref: \"estimate\",\n      className: \"input-estimate\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.budget,\n      required: true,\n      type: \"text\",\n      name: \"budget\",\n      ref: \"budget\",\n      className: \"input-budget\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.start_date,\n      required: true,\n      type: \"date\",\n      name: \"start_date\",\n      ref: \"start_date\",\n      className: \"input-start-date\",\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn-create\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, \"Edit\")));\n  }\n\n}\n\nexport default withRouter(OrderEdit);","map":{"version":3,"sources":["/home/lyuda/Desktop/orders/client/src/components/edit-client.js"],"names":["React","request","withRouter","OrderEdit","Component","constructor","props","state","id","client","project","department","estimate","budget","start_date","handleInputChange","bind","componentDidMount","getOrderDetails","match","params","get","then","response","setState","data","order","split","catch","err","console","log","status","history","push","editOrder","newOrder","method","url","onSubmit","e","preventDefault","refs","value","target","name","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { request } from '../utils/axios';\nimport { withRouter } from \"react-router\";\n\nclass OrderEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      client: '',\n      project: '',\n      department: '',\n      estimate: '',\n      budget: '',\n      start_date: ''\n    }\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getOrderDetails();\n  }\n\n  getOrderDetails() {\n    let id = this.props.match.params.id;\n    request.get(`/client/${id}`)\n      .then(response => {\n        this.setState({\n          id: response.data.order.id,\n          client: response.data.order.client,\n          project: response.data.order.project,\n          department: response.data.order.department,\n          estimate: response.data.order.estimate,\n          budget: response.data.order.budget,\n          start_date: response.data.order.start_date.split('T')[0]\n        }, () => {\n        })\n      })\n      .catch((err) => {\n        console.log(err)\n        if (err.response.status === 401) {\n          this.props.history.push('/')\n        }\n      });\n  }\n\n  editOrder(newOrder) {\n    request({\n      method: 'put',\n      url: `/client/${this.props.match.params.id}`,\n      data: newOrder\n    }).then(response => {\n      this.props.history.push('/orders')\n    })\n      .catch((err) => {\n        console.log(err)\n      });\n  }\n\n  onSubmit(e) {\n    e.preventDefault()\n    const newOrder = {\n      client: this.refs.client.value,\n      project: this.refs.project.value,\n      department: this.refs.department.value,\n      estimate: this.refs.estimate.value,\n      budget: this.refs.budget.value,\n      start_date: this.refs.start_date.value\n    }\n    this.editOrder(newOrder);\n  }\n\n  handleInputChange(e) {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.onSubmit.bind(this)}>\n          <input\n            value={this.state.client}\n            required type=\"text\"\n            name=\"client\"\n            ref=\"client\"\n            className=\"input-client\"\n            onChange={this.handleInputChange}\n          />\n          <input\n            value={this.state.project}\n            required type=\"text\"\n            name=\"project\"\n            ref=\"project\"\n            className=\"input-project\"\n            onChange={this.handleInputChange}\n          />\n          <select\n            value={this.state.department}\n            ref=\"department\"\n            value={this.state.value}\n            className=\"input-department\"\n            onChange={this.handleInputChange}>\n            <option value=\"\" disabled selected>Department</option>\n            <option value=\"Milestep\">Milestep</option>\n            <option value=\"LibidoSoft\">LibidoSoft</option>\n          </select>\n          <input\n            value={this.state.estimate}\n            required type=\"text\"\n            name=\"estimate\"\n            ref=\"estimate\"\n            className=\"input-estimate\"\n            onChange={this.handleInputChange}\n          />\n          <input\n            value={this.state.budget}\n            required type=\"text\"\n            name=\"budget\"\n            ref=\"budget\"\n            className=\"input-budget\"\n            onChange={this.handleInputChange}\n          />\n          <input\n            value={this.state.start_date}\n            required type=\"date\"\n            name=\"start_date\"\n            ref=\"start_date\"\n            className=\"input-start-date\"\n            onChange={this.handleInputChange}\n          />\n          <button type=\"submit\" className=\"btn-create\">Edit</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(OrderEdit)"]},"metadata":{},"sourceType":"module"}