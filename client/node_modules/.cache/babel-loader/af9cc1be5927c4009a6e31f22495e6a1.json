{"ast":null,"code":"var _jsxFileName = \"/home/lyuda/Desktop/orders/client/src/components/show-order.js\";\nimport React from 'react';\nimport { request } from '../utils/axios';\nimport { withRouter } from \"react-router\";\nimport HistoryForm from './history-form';\nimport Navigation from './nav';\nimport '../style/show-order.css';\n\nclass OrderShow extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Item: null,\n      listHistory: []\n    };\n\n    this.showOrder = () => {\n      request.get(`/client/${this.props.match.params.id}`).then(res => {\n        this.setState({\n          Item: res.data.order\n        });\n      }).catch(err => {\n        if (err.response.status === 401) {\n          this.props.history.push('/');\n        }\n      });\n    };\n\n    this.listHistory = () => {\n      request.get('/histories').then(res => {\n        this.setState({\n          listHistory: res.data\n        });\n      }).catch(err => {\n        if (err.response.status === 401) {\n          this.props.history.push('/');\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.showOrder();\n    this.listHistory();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navigation, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn-back\",\n      onClick: () => this.props.history.push('/orders'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, \"Back\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"show-order\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, this.state.Item && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"client\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, \" Client: \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"show-client\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 49\n      }\n    }, this.state.Item.client), \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"project\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, \" Project: \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"show-project\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 51\n      }\n    }, this.state.Item.project), \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"department\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, \" Department:  \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"show-department\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 58\n      }\n    }, this.state.Item.department)))), /*#__PURE__*/React.createElement(HistoryForm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"parametr\",\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      id: \"th-date\",\n      className: \"th-date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"th-manager\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"Manager\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"th-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, this.state.listHistory.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      id: \"date\",\n      className: \"item-client\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, item.date.split('T')[0]), /*#__PURE__*/React.createElement(\"td\", {\n      id: \"manager\",\n      className: \"item-project\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"td\", {\n      id: \"action\",\n      className: \"item-department\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, item.action)))))));\n  }\n\n}\n\nexport default withRouter(OrderShow);","map":{"version":3,"sources":["/home/lyuda/Desktop/orders/client/src/components/show-order.js"],"names":["React","request","withRouter","HistoryForm","Navigation","OrderShow","Component","state","Item","listHistory","showOrder","get","props","match","params","id","then","res","setState","data","order","catch","err","response","status","history","push","componentDidMount","render","client","project","department","map","item","date","split","action"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { request } from '../utils/axios';\nimport { withRouter } from \"react-router\";\nimport HistoryForm from './history-form'\nimport Navigation from './nav'\n\nimport '../style/show-order.css'\n\nclass OrderShow extends React.Component {\n  state = {\n    Item: null,\n    listHistory: []\n  }\n\n  componentDidMount() {\n    this.showOrder();\n    this.listHistory();\n  }\n  showOrder = () => {\n    request.get(`/client/${this.props.match.params.id}`)\n      .then(res => {\n        this.setState({\n          Item: res.data.order\n        })\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          this.props.history.push('/')\n        }\n      });\n  }\n\n  listHistory = () => {\n    request.get('/histories')\n      .then(res => {\n        this.setState({\n          listHistory: res.data\n        })\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          this.props.history.push('/')\n        }\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <Navigation />\n        <button type=\"button\" className=\"btn-back\" onClick={() => this.props.history.push('/orders')}>Back</button>\n        <div className=\"show-order\">\n          {this.state.Item &&\n            <div>\n              <span className=\"client\"> Client: <span className=\"show-client\">{this.state.Item.client}</span> </span>\n              <span className=\"project\"> Project: <span className=\"show-project\">{this.state.Item.project}</span> </span>\n              <span className=\"department\"> Department:  <span className=\"show-department\">{this.state.Item.department}</span></span>\n\n            </div>\n          }\n        </div>\n        <HistoryForm />\n        <div>\n          <table id=\"parametr\" className=\"table\">\n            <thead>\n              <tr>\n                <th id=\"th-date\" className=\"th-date\">Date</th>\n                <th className=\"th-manager\">Manager</th>\n                <th className=\"th-action\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.listHistory.map(item =>\n                <tr key={item.id}>\n                  <td id=\"date\" className=\"item-client\">{item.date.split('T')[0]}</td>\n                  <td id=\"manager\" className=\"item-project\">Name</td>\n                  <td id=\"action\" className=\"item-department\">{item.action}</td>\n                </tr>)}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(OrderShow);"]},"metadata":{},"sourceType":"module"}